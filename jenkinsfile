pipeline {
agent { label 'slave' }
tools {
        maven 'Maven 3.3.9'
        jdk 'jdk8'
    }
stages {
stage('Example Build') {
steps {
sh 'hostname'
}
}
stage ('Build') {
            steps {
                sh '''
                    echo "PATH = ${PATH}"
                    echo "M2_HOME = ${M2_HOME}"
                '''
                sh 'mvn verify' 
            }
            }
stage('building an image') {
steps {
script {
sh 'echo "RUN hostname">> Dockerfile'
def testimage = docker.build("my-image:${env.BUILD_ID}")
}
}
}
} 
}



